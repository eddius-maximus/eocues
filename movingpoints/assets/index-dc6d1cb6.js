(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(t){if(t.ep)return;t.ep=!0;const l=o(t);fetch(t.href,l)}})();const a=document.getElementById("canvas1"),f=a.getContext("2d"),c=document.getElementById("canvas2"),v=c.getContext("2d"),w=document.getElementById("topDiameter"),b=document.getElementById("length"),L=document.getElementById("taperPerInch"),P=document.getElementById("spliceLength"),B=document.getElementById("spliceDepth"),D=document.getElementById("finalTopDiameter");let E=new Image;E.src="woodtile.jpg";E.onload=function(){p()};function p(){const e=parseFloat(w.value),n=parseFloat(b.value),o=parseFloat(L.value),r=parseFloat(P.value);let t=parseFloat(B.value);const l=parseFloat(D.value),i=a.height/n,u=document.getElementById("spliceDepthWarning"),s=e+o*n,d=l+o*n;t>s/2?(u.style.display="block",t=s/2):u.style.display="none",f.clearRect(0,0,a.width,a.height),v.clearRect(0,0,c.width,c.height),T(f,a.width/2,a.height,e*i,s*i,n*i),y(f,a.width/2,a.height,r*i,t*i);const g=t*(d/s),h=r*(l/e),m=e*(l/e),C=s*(d/s);T(v,c.width/2,c.height,m*i,C*i,n*i),y(v,c.width/2,c.height,h*i,g*i);const I=y(f,a.width/2,a.height,r*i,t*i),S=y(v,c.width/2,c.height,h*i,g*i),F=document.getElementById("icon1");F.style.top=`${I.y}px`;const O=document.getElementById("icon2");O.style.top=`${S.y}px`;const W=document.getElementById("height1");W.innerHTML=`Starting Point Length <br> <span class="bignumber">${((a.height-I.y)/i).toFixed(2)}</span> inches`;const k=document.getElementById("height2");k.innerHTML=`Final Point Length <br> <span class="bignumber">${((c.height-S.y)/i).toFixed(2)}</span> inches`;const q=parseFloat(L.value)*29+l;document.getElementById("buttFinalSize").innerText=q.toFixed(3)}function T(e,n,o,r,t,l){let i=e.createPattern(E,"repeat");e.fillStyle=i,e.strokeStyle="#222",e.lineWidth=.5,e.shadowColor="rgba(0,0,0,0.5)",e.shadowBlur=16,e.shadowOffsetX=6,e.shadowOffsetY=6,e.beginPath(),e.moveTo(n-r/2,o-l),e.lineTo(n+r/2,o-l),e.lineTo(n+t/2,o),e.lineTo(n-t/2,o),e.closePath(),e.fill(),e.stroke();let u=150,s=40;const d=e.createLinearGradient(u-s/2,o,u+s/2,o);d.addColorStop(0,"transparent"),d.addColorStop(1,"rgba(0, 0, 0, 0.5)"),e.beginPath(),e.fillStyle=d,e.moveTo(n-r/2,o-l),e.lineTo(n+r/2,o-l),e.lineTo(n+t/2,o),e.lineTo(n-t/2,o),e.closePath(),e.fill(),e.stroke()}function y(e,n,o,r,t,l,i){const u=t/2,s=t;let d=150,g=40;const h=e.createLinearGradient(d-g/2,o,d+g/2,o);h.addColorStop(0,"black"),h.addColorStop(.3,"#444"),h.addColorStop(1,"black");const m=e.createLinearGradient(0,0,200,0);return m.addColorStop("0","black"),m.addColorStop("0.5","red"),m.addColorStop("1.0","red"),e.beginPath(),e.strokeStyle=m,e.fillStyle=h,e.moveTo(n-u,o),e.lineTo(n,o-r),e.lineTo(n+u,o),e.lineTo(n+s,o+t),e.lineTo(n-s,o+t),e.lineWidth=4,e.stroke(),e.closePath(),e.fill(),{x:n,y:o-r}}w.addEventListener("input",p);b.addEventListener("input",p);L.addEventListener("input",p);P.addEventListener("input",p);B.addEventListener("input",p);D.addEventListener("input",p);document.getElementById("parametersForm").addEventListener("submit",function(e){e.preventDefault(),p()});p();let A=document.querySelectorAll(".tooltip-container");A.forEach(e=>{let n=e.querySelector(".tooltip-icon");n.addEventListener("click",function(o){document.querySelectorAll(".tooltip-container.active").forEach(t=>{t!==e&&t.classList.remove("active")}),e.classList.toggle("active"),o.stopPropagation()}),n.addEventListener("mouseover",function(o){e.classList.add("active")}),n.addEventListener("mouseout",function(o){e.classList.remove("active")})});document.addEventListener("click",function(e){document.querySelectorAll(".tooltip-container.active").forEach(o=>{o.classList.remove("active")})});
